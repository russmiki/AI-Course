import requests
import random
from dotenv import load_dotenv
load_dotenv()

# ================= MEMORY =================
conversation_memory = []
max_memory = 5

last_emotion = None
is_first_message = True

# ================= EMOTION KEYWORDS =================
EMOTION_KEYWORDS = {
    "excitement": ["ÙˆØ§ÛŒ", "Ù‡ÛŒØ¬Ø§Ù†", "Ø°ÙˆÙ‚", "Ø®ÙÙ†", "Ù¾Ø± Ø§Ù†Ø±Ú˜ÛŒ", "Ù‡ÛŒØ¬Ø§Ù† Ø§Ù†Ú¯ÛŒØ²"],
    "love": ["Ø¯ÙˆØ³ØªØ´", "Ø¹Ø§Ø´Ù‚", "Ù‚Ù„Ø¨Ù…", "Ú©Ù†Ø§Ø±Ø´", "ÙˆØ§Ø¨Ø³ØªÙ‡"],
    "fear": ["ØªØ±Ø³", "Ù…ÛŒâ€ŒØªØ±Ø³Ù…", "Ù„Ø±Ø²Ø´", "ÙˆØ­Ø´Øª"],
    "anxiety": ["Ø§Ø¶Ø·Ø±Ø§Ø¨", "Ù†Ú¯Ø±Ø§Ù†", "Ø¯Ù„Ø´ÙˆØ±Ù‡", "Ø­Ù…Ù„Ù‡", "ØªÙ¾Ø´"],
    "happy": ["Ø®ÙˆØ´Ø­Ø§Ù„", "Ø´Ø§Ø¯", "Ø­Ø³ Ø®ÙˆØ¨", "Ø¨Ù‡ Ù‡Ø¯ÙÙ…"],
    "sad": ["Ù†Ø§Ø±Ø§Ø­ØªÙ…", "ØªÙ†Ù‡Ø§ÛŒÛŒ", "Ø§Ù†Ú¯ÛŒØ²Ù‡ Ù†Ø¯Ø§Ø±Ù…", "Ø¯Ù„Ú¯ÛŒØ±"],
    "pride": ["ØºØ±ÙˆØ±", "Ù…ØºØ±ÙˆØ±"],
    "hate": ["Ù†ÙØ±Øª", "Ø¨Ø¯Ù… Ù…ÛŒØ§Ø¯", "Ø§Ø¹ØµØ§Ø¨Ù…", "ØªÙ†ÙØ±"],
}

# ================= RESPONSES =================
excitement_responses = [
    "Ú†Ù‡ Ø¹Ø§Ù„ÛŒ! Ø§Ù†Ø±Ú˜ÛŒ Ù…Ø«Ø¨ØªØª Ø­ØªÛŒ Ø§Ø² Ù¾Ø´Øª Ù…ØªÙ† Ù‡Ù… Ø­Ø³ Ù…ÛŒâ€ŒØ´Ù‡ .Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø±Ø§Ø¬Ø¨Ø´ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸâœ¨ğŸ¥°ğŸ˜Š",
    "Ú†Ù‚Ø¯Ø± Ø®ÙˆØ¨Ù‡! Ø¨Ø±Ø§Ù… Ø¨Ú¯Ùˆ Ú†ÛŒ Ø¨Ø§Ø¹Ø« Ø´Ø¯Ù‡ Ø§ÛŒÙ†â€ŒÙ‚Ø¯Ø± Ù‡ÛŒØ¬Ø§Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØŸğŸ¥°ğŸ˜Š",
    "Ø¨Ù‡â€ŒÙ†Ø¸Ø± Ù…ÛŒØ§Ø¯ Ø§ØªÙØ§Ù‚ Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ´Ø­Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡â€ŒØ§ÛŒ Ø§ÙØªØ§Ø¯Ù‡! Ø¯ÙˆØ³Øª Ø¯Ø§Ø±Ù… Ø¨Ø´Ù†ÙˆÙ… ğŸ˜Š",
    "Ø§ÛŒÙ† Ø­Ø³ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡â€ŒØ³Øª! Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ø§Ø¯Ø§Ù…Ù‡â€ŒØ¯Ø§Ø± Ø¨Ø§Ø´Ù‡ ğŸ’› Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒ Ø±Ø§Ø¬Ø¨Ø´ØŸğŸ¥°ğŸ˜Š",
    "Ù‡ÛŒØ¬Ø§Ù†Øª ÙˆØ§Ù‚Ø¹ÛŒ Ùˆ Ù‚Ø´Ù†Ú¯Ù‡ØŒ Ù„Ø°Øª Ø¨Ø¨Ø± Ø§Ø² Ø§ÛŒÙ† Ù„Ø­Ø¸Ù‡!Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒ Ø¨Ø±Ø§Ù…ØŸğŸ¥°ğŸ˜Š",
    "Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨Ù‡ Ú©Ù‡ Ø§ÛŒÙ†â€ŒÙ‚Ø¯Ø± Ù¾Ø±Ø§Ù†Ø±Ú˜ÛŒ Ø´Ø¯ÛŒ!â¤ï¸ Ú†ÛŒ Ø´Ø¯ Ú©Ù‡ Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ÛŒØŸ",
    "Ú†Ù‚Ø¯Ø± Ø®ÙˆØ´Ø­Ø§Ù„Ù… Ú©Ù‡ Ø§ÛŒÙ† Ø­Ø³ Ø²ÛŒØ¨Ø§ Ø±Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ!â¤ï¸ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§Ù… Ø¨Ú¯ÛŒØŸ",
    "Ù‡ÛŒØ¬Ø§Ù† Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø´Ø±ÙˆØ¹ ÛŒÚ© Ø§ØªÙØ§Ù‚ Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨ Ø¨Ø§Ø´Ù‡. Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ø¨Ù‡ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±Øª Ø¨Ø§Ø´Ù‡ â¤ï¸Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸâœ¨",
    "Ø§ÛŒÙ† Ø­Ø³â€ŒÙ‡Ø§ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯Ù†â€¦ Ù‚Ø¯Ø±Ø´ Ø±Ùˆ Ø¨Ø¯ÙˆÙ† Ùˆ Ú©Ø§Ù…Ù„ ØªØ¬Ø±Ø¨Ù‡â€ŒØ´ Ú©Ù†!â¤ï¸â¤ï¸Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ Ø¨Ø±Ø§Ù… ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØŸ",
    "Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ±Ù‡!â¤ï¸â¤ï¸ Ø¨Ú¯Ùˆ Ø¨Ø¨ÛŒÙ†Ù… Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø§ÛŒÙ†â€ŒÙ‚Ø¯Ø± Ø®ÙˆØ´Ø­Ø§Ù„Øª Ú©Ø±Ø¯Ù‡ØŸ",
]

love_responses = [
    "Ú†Ù‡ Ø­Ø³ Ù‚Ø´Ù†Ú¯ÛŒâ€¦â¤ï¸Ø¹Ø´Ù‚ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¨Ø®Ø´ Ø¨Ø²Ø±Ú¯ÛŒ Ø§Ø² Ø¢Ø±Ø§Ù…Ø´ Ø¢Ø¯Ù… Ø¨Ø§Ø´Ù‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨Ø±Ø§Ù… ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒâ¤ï¸â˜ºï¸â˜ºï¸ØŸ .",
    "Ø¨Ù‡â€ŒÙ†Ø¸Ø± Ù…ÛŒØ§Ø¯ Ø±Ø§Ø¨Ø·Ù‡â€ŒØªÙˆÙ† Ø¨Ø±Ø§ÛŒ ØªÙˆ Ø®ÛŒÙ„ÛŒ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯Ù‡. â¤ï¸â˜ºï¸â˜ºï¸Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø¯Ø±Ù…ÙˆØ±Ø¯Ø´ Ø¨Ú¯ÛŒØŸ",
    "Ø§ÛŒÙ† Ú©Ù‡ Ø­Ø¶ÙˆØ± Ú©Ø³ÛŒ Ø¨Ø§Ø¹Ø« Ø¢Ø±Ø§Ù…Ø´Øª Ù…ÛŒâ€ŒØ´Ù‡ Ø®ÛŒÙ„ÛŒ Ø²ÛŒØ¨Ø§Ø³Øª Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…â¤ï¸â˜ºï¸â˜ºï¸ØŸ",
    "Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø¹Ø§Ø´Ù‚Ø§Ù†Ù‡ Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ Ø§Ù†Ø³Ø§Ù†ÛŒâ€ŒØ§Ù†Ø¯. Ù…Ù‡Ù…Ù‡ Ú©Ù‡ Ø¨Ø§ Ø¢Ø±Ø§Ù…Ø´ ØªØ¬Ø±Ø¨Ù‡â€ŒØ´ÙˆÙ† Ú©Ù†ÛŒ. Ø¯ÙˆØ³Øª Ø°Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ğŸ¤©",
    "Ø§ÛŒÙ† Ø­Ø³ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ù†Ø´ÙˆÙ†Ù‡â€ŒÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¹Ù…ÛŒÙ‚ Ø¨Ø§Ø´Ù‡. Ú†Ø·ÙˆØ± Ø¨Ø§Ù‡Ø§Ø´ Ø¢Ø´Ù†Ø§ Ø´Ø¯ÛŒØŸ",
    "Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ú†Ù‚Ø¯Ø± Ø¨Ø±Ø§Øª Ù…Ù‡Ù…Ù‡â€¦ Ú¯ÙØªÙ†Ø´ Ø´Ø¬Ø§Ø¹Øª Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¯. Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨Ù‡ ØµØ­Ø¨Øª Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯ÛŒğŸ˜‰ØŸ",
    "ÙˆÙ‚ØªÛŒ Ø¹Ø´Ù‚ Ø¨Ø§Ø¹Ø« Ù„Ø¨Ø®Ù†Ø¯ Ù…ÛŒâ€ŒØ´Ù‡ØŒ ÛŒØ¹Ù†ÛŒ Ø±ÙˆÛŒ Ø±ÙˆØ­Øª Ø§Ø«Ø± Ø®ÙˆØ¨ Ú¯Ø°Ø§Ø´ØªÙ‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ù… Ø¨Ø´Ù†ÙˆÙ… Ø­Ø±ÙØ§ØªÙˆ.ğŸ˜‰",
    "Ú¯ÙØªÛŒ Ø§Ø­Ø³Ø§Ø³ Ù‚ÙˆÛŒ Ø¯Ø§Ø±ÛŒâ€¦ Ø¢ÛŒØ§ ØªÙˆÙ†Ø³ØªÛŒ Ø¨Ø§ Ø®ÙˆØ¯Ø´ Ù‡Ù… ØµØ­Ø¨Øª Ú©Ù†ÛŒğŸ˜‰ØŸ",
    "Ø§ÛŒÙ† Ø­Ø³â€ŒÙ‡Ø§ Ø§Ú¯Ø± Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ùˆ Ø¢Ø±Ø§Ù…Ø´ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§Ø´Ù† Ø®ÛŒÙ„ÛŒ Ø±Ø´Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†ğŸ˜‡. Ø¯ÙˆØ³Øª Ø¯Ø§Ø±Ù… Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ… Ø±Ø§Ø¬Ø¨Ø´",
    "Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒØ§Ø¯ ØªØ¬Ø±Ø¨Ù‡â€ŒÛŒ Ù…Ù‡Ù…ÛŒÙ‡ Ø¨Ø±Ø§Øªâ€¦ ğŸ˜‡Ø§Ú¯Ù‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÛŒ Ù…Ù† Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú¯ÙˆØ´ Ú©Ù†Ù… Ø¨ÛŒØ´ØªØ± Ø¨Ú¯ÛŒ.",
]

fear_responses = [
    "Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ú†Ù‚Ø¯Ø± Ø§ÛŒÙ† Ø­Ø³ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¢Ø²Ø§Ø±Ø¯Ù‡Ù†Ø¯Ù‡ Ø¨Ø§Ø´Ø¯. Ú¯Ø§Ù‡ÛŒ ØªØ±Ø³ Ø¨Ø¯ÙˆÙ† Ø¯Ù„ÛŒÙ„ ÙˆØ§Ø¶Ø­ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¢Ø±Ø§Ù…â€ŒØ¢Ø±Ø§Ù… Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ù¾Ø´Øª Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³ Ù‡Ø³ØªÙ†Ø¯.",
    "Ø¨Ø¯Ù† Ù‡Ù†Ú¯Ø§Ù… ØªØ±Ø³ ÙˆØ§Ú©Ù†Ø´ Ø¯ÙØ§Ø¹ÛŒ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø§ÛŒÙ† ÙˆØ§Ú©Ù†Ø´ Ø·Ø¨ÛŒØ¹ÛŒ Ø§Ø³ØªØŒ Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø·Ø± ÙˆØ§Ù‚Ø¹ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ø¨Ù„Ù‡ØŒ ØªØ±Ø³ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø®ÛŒÙ„ÛŒâ€ŒÙ‡Ø§ Ù¾ÛŒØ´ Ù…ÛŒâ€ŒØ¢ÛŒØ¯. Ù…Ù‡Ù… Ø§Ø³Øª Ø¨Ø¯Ø§Ù†ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Ø­Ø³ Ø§Ú¯Ø±Ú†Ù‡ Ø´Ø¯ÛŒØ¯ Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø®Ø·Ø±Ù†Ø§Ú© Ù†ÛŒØ³Øª Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ø§ÛŒÙ† Ø¹Ù„Ø§Ø¦Ù… Ø§Ø² ÙˆØ§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒØ¬ ØªØ±Ø³ Ù‡Ø³ØªÙ†Ø¯. Ú†Ù†Ø¯ Ù†ÙØ³ Ø¢Ø±Ø§Ù… Ùˆ Ø¹Ù…ÛŒÙ‚ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú©Ù…Ú© Ú©Ù†Ø¯ Ø¨Ø¯Ù†Øª Ú©Ù…ÛŒ Ø¢Ø±Ø§Ù…â€ŒØªØ± Ø´ÙˆØ¯ Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒ Ù…Ù† Ù‡Ø³ØªÙ….",
    "ØªØ±Ø³ Ø§Ø² ØªÙ†Ù‡Ø§ÛŒÛŒ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ø´Ø§ÛŒØ¹ Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø±ÛŒØ´Ù‡ Ø§ÛŒÙ† ØªØ±Ø³ Ùˆ Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†Ø§Ø± Ø¢Ù…Ø¯Ù† Ø¨Ø§ Ø¢Ù† ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ….",
    "ØªØ±Ø³ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø§Ø¹Ø« Ø§Ø¬ØªÙ†Ø§Ø¨ Ø´ÙˆØ¯. Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ ØªØ¯Ø±ÛŒØ¬ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ú©Ù…Ú© Ú©Ù†Ù†Ø¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø­Ø³Ø§Ø³ Ú©Ù†ØªØ±Ù„ Ú©Ù†ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ… Ø±Ø§Ø¬Ø¨ Ø­Ø³ØªØŸ.",
    "Ø§Ø­Ø³Ø§Ø³ Ø¨ÛŒØ´â€ŒØ§Ø²Ø­Ø¯ Ø¨ÙˆØ¯Ù† ØªØ±Ø³ Ù‚Ø§Ø¨Ù„ Ø¯Ø±Ú© Ø§Ø³Øª. Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø¯Øª Ùˆ Ø²Ù…Ø§Ù† ÙˆÙ‚ÙˆØ¹Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¯Ø±Ú© Ø¨Ù‡ØªØ±Ø´ Ú©Ù…Ú© Ú©Ù†Ø¯.",
    "ØªØ±Ø³ Ø§Ø² Ø¢ÛŒÙ†Ø¯Ù‡ Ø§Ø­Ø³Ø§Ø³ÛŒ Ø§Ù†Ø³Ø§Ù†ÛŒ Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ù…Ø´Ø®Øµ Ú©Ù†ÛŒÙ… Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ú©Ø¯Ø§Ù… Ø¨Ø®Ø´ Ø¢ÛŒÙ†Ø¯Ù‡ ØªÙˆ Ø±Ø§ Ù†Ú¯Ø±Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ø¯.",
    "Ø³Ø³ØªÛŒ Ø¨Ø¯Ù† ÙˆØ§Ú©Ù†Ø´ Ø·Ø¨ÛŒØ¹ÛŒ ØªØ±Ø³ Ø§Ø³Øª. Ú©Ù…ÛŒ Ø­Ø±Ú©Øª Ø¢Ø±Ø§Ù… ÛŒØ§ ØªÙ…Ø±Ú©Ø² Ø±ÙˆÛŒ ØªÙ†ÙØ³ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…ÙÛŒØ¯ Ø¨Ø§Ø´Ø¯ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ø¨Ø¹Ø¶ÛŒ Ø®Ø§Ø·Ø±Ø§Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø³ÛŒØ³ØªÙ… ØªØ±Ø³ Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†Ù†Ø¯. Ø§ÛŒÙ† ÙˆØ§Ú©Ù†Ø´ Ù‚Ø§Ø¨Ù„ ÙÙ‡Ù… Ø§Ø³Øª Ùˆ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø±ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ù† Ú©Ø§Ø± Ú©Ø±Ø¯ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ù…ÙÛŒØ¯ Ø¨Ø§Ø´Ø¯ .Ù…Ù† Ù‡Ø³ØªÙ… Ú©Ù†Ø§Ø±Øª.",
    "Ù†Ú¯Ø±Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¹Ø²ÛŒØ²Ø§Ù† Ù†Ø´Ø§Ù†â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø§Ù‡Ù…ÛŒØª Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Øª. Ø§Ú¯Ø± Ø§ÛŒÙ† ØªØ±Ø³ Ø²ÛŒØ§Ø¯ Ø´Ø¯Ù‡ØŒ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒØ§Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú©Ù…Ú©â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø¨Ø§Ø´Ø¯.",
    "Ø§Ø¬ØªÙ†Ø§Ø¨ ÙˆØ§Ú©Ù†Ø´ÛŒ Ø±Ø§ÛŒØ¬ Ø¨Ù‡ ØªØ±Ø³ Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¨Ø¯ÙˆÙ† ÙØ´Ø§Ø± Ø²ÛŒØ§Ø¯ Ø¨Ø§ Ø¢Ù† Ø±ÙˆØ¨Ù‡â€ŒØ±Ùˆ Ø´ÙˆÛŒ.",
]

anxiety_responses = [
    "Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ø§ÛŒÙ† Ø­Ø³ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªØ±Ø³Ù†Ø§Ú© Ø¨Ø§Ø´Ø¯. ØªÙ¾Ø´ Ù‚Ù„Ø¨ Ù‡Ù†Ú¯Ø§Ù… Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø±Ø§ÛŒØ¬ Ø§Ø³Øª. Ø§Ú¯Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ú†Ù†Ø¯ Ù†ÙØ³ Ø¢Ø±Ø§Ù… Ùˆ Ø¹Ù…ÛŒÙ‚ Ø¨Ú©Ø´. Ø§Ú¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ ÛŒØ§ Ù†Ú¯Ø±Ø§Ù† Ø´Ø¯ÛŒØŒ Ø®ÙˆØ¨ Ø§Ø³Øª Ø¨Ø§ Ù…ØªØ®ØµØµ Ù¾Ø²Ø´Ú©ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒ.",
    "Ø§ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ Ø®ÛŒÙ„ÛŒâ€ŒÙ‡Ø§ Ù¾ÛŒØ´ Ù…ÛŒâ€ŒØ¢ÛŒØ¯. Ú¯Ø§Ù‡ÛŒ ÙØ´Ø§Ø± ÛŒØ§ Ø®Ø³ØªÚ¯ÛŒ Ø¨Ø§Ø¹Ø«Ø´ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾Ø´Øª Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³ Ø¨Ø§Ø´Ø¯.",
    "Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ú†Ù†Ø¯ Ù†ÙØ³ Ø¢Ù‡Ø³ØªÙ‡ Ùˆ Ø¹Ù…ÛŒÙ‚ Ø¨Ú©Ø´ÛŒ ÛŒØ§ ØªÙˆØ¬Ù‡Øª Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú†Ù†Ø¯ Ø«Ø§Ù†ÛŒÙ‡ Ø±ÙˆÛŒ Ù…Ø­ÛŒØ· Ø§Ø·Ø±Ø§ÙØª Ù…ØªÙ…Ø±Ú©Ø² Ú©Ù†ÛŒ. Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ ÛŒÚ© ØªÙ…Ø±ÛŒÙ† Ø¢Ø±Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒâ€ŒØ§Øª Ù…ÛŒâ€ŒÚ©Ù†Ù….",
    "Ø¯Ø± Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ±Ø³ Ø´Ø¯ÛŒØ¯ Ø§ÛŒÙ† Ø­Ø³ Ø¨Ø±Ø§ÛŒ Ø®ÛŒÙ„ÛŒ Ø§ÙØ±Ø§Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯. ØªØ¬Ø±Ø¨Ù‡â€ŒØ§Ø´ Ø³Ø®Øª Ø§Ø³Øª ÙˆÙ„ÛŒ Ù„Ø²ÙˆÙ…Ø§Ù‹ Ø®Ø·Ø±Ù†Ø§Ú© Ù†ÛŒØ³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¨Ø§Ø¹Ø« Ø§ÛŒÙ† Ø­Ø³ Ø´Ø¯Ù‡.",
    "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø¨Ø±Ø§ÛŒ Ø®ÛŒÙ„ÛŒâ€ŒÙ‡Ø§ Ù¾ÛŒØ´ Ù…ÛŒâ€ŒØ¢ÛŒØ¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ú©Ø¯Ø§Ù… Ø¨Ø®Ø´ Ø¢Ù† Ø¨Ø±Ø§ÛŒ ØªÙˆ Ø³Ø®Øªâ€ŒØªØ± Ø§Ø³Øª Ùˆ Ú†Ù‡ Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø±Ø§Ø­Øªâ€ŒØªØ± Ø´Ø¯Ù† Ø¨Ø±Ø¯Ø§Ø±ÛŒ.",
    "Ø°Ù‡Ù† Ø¯Ø± Ø­Ø§Ù„Øª Ø§Ø¶Ø·Ø±Ø§Ø¨ Ú¯Ø§Ù‡ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø±Ø§ ØªÙ‡Ø¯ÛŒØ¯Ø¢Ù…ÛŒØ² Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ø¯. Ø§ÛŒÙ† Ø­Ø³ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³Øª Ø§Ù…Ø§ Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ ÙˆÙ‚ÙˆØ¹ Ø®Ø·Ø± Ù†ÛŒØ³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ø¨Ø§Ø¹Ø« ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Ø§ÛŒÙ† ÙÚ©Ø± Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.",
    "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªÙ…Ø±Ú©Ø² Ø±Ø§ Ø³Ø®Øª Ú©Ù†Ø¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ú©Ø§Ø± Ø±Ø§ Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©â€ŒØªØ± ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ÛŒÙ… ÛŒØ§ Ú†Ù†Ø¯ ØªÚ©Ù†ÛŒÚ© ØªÙ…Ø±Ú©Ø² Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒÙ….",
    "Ø­Ù…Ù„Ù‡Ù” Ø§Ø¶Ø·Ø±Ø§Ø¨ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø±Ø® Ø¯Ù‡Ø¯ Ùˆ Ø¯Ù„Ø§ÛŒÙ„ Ù…Ø®ØªÙ„ÙÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯. Ù…Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… ØªØ´Ø®ÛŒØµ Ø¨Ø¯Ù‡Ù…ØŒ Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¯Ø±Ø¨Ø§Ø±Ù‡Ù” Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ø¢Ù† ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ….",
    "Ø§Ø­Ø³Ø§Ø³ Ø³Ø®ØªÛŒ Ø§Ø³ØªØŒ Ø§Ù…Ø§ ØªÙ†Ù‡Ø§ Ù†ÛŒØ³ØªÛŒ. Ø§ÙØ±Ø§Ø¯ Ø²ÛŒØ§Ø¯ÛŒ Ú†Ù†ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ø¯Ø§Ø±Ù†Ø¯. Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³ØªÙ… Ú©Ù‡ Ù‡Ù…Ø±Ø§Ù‡Øª Ø¨Ø§Ø´Ù… Ùˆ Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒØ§Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ….",
    "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø±Ø§ Ø¯Ø´ÙˆØ§Ø± Ú©Ù†Ø¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… ØªØµÙ…ÛŒÙ… Ø±Ø§ Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©ØªØ± ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ø¯Ø± Ú©Ù†ØªØ±Ù„ ØªÙˆØ³Øª.",
    "Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ø§ÙØ±Ø§Ø¯ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø² Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø±Ø§ ØªØ¬Ø±Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ú©Ù‡ Ø´Ø¯ØªØ´Ø§Ù† ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ú©Ù†Ù… Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ±Ø´ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ….",
    "Ø§ÛŒÙ† Ø­Ø³ Ø±Ø§ÛŒØ¬ Ø§Ø³Øª Ø§Ù…Ø§ ÙˆØ§Ù‚Ø¹ÛŒØª Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø§ÙØ±Ø§Ø¯ Ø²ÛŒØ§Ø¯ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ù…Ø´Ø§Ø¨Ù‡ Ø¯Ø§Ø±Ù†Ø¯. Ù…Ù† Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³ØªÙ… Ú©Ù‡ Ù‡Ù…Ø±Ø§Ù‡Øª Ø¨Ø§Ø´Ù… Ùˆ Ø¨Ø§ Ù‡Ù… Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒØ§Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ….",
    "Ø§ÙÚ©Ø§Ø± Ù…Ù†ÙÛŒ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø®ÙˆØ¯Ø¨Ù‡â€ŒØ®ÙˆØ¯ Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯ØŒ Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ú†Ø·ÙˆØ± Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒÙ…. Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ø¢ÛŒØ§ ÙÚ©Ø± Ø¨Ø± Ø§Ø³Ø§Ø³ ÙˆØ§Ù‚Ø¹ÛŒØª Ø§Ø³Øª ÛŒØ§ ÙÙ‚Ø· ÛŒÚ© Ù†Ú¯Ø±Ø§Ù†ÛŒ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ.",
    "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø°Ù‡Ù† Ø±Ø§ Ø®Ø³ØªÙ‡ Ú©Ù†Ø¯. Ø§Ø³ØªØ±Ø§Ø­Øª Ú©ÙˆØªØ§Ù‡ØŒ ØªØ­Ø±Ú© Ø³Ø¨Ú© Ùˆ Ø±Ø³ÛŒØ¯Ú¯ÛŒ Ø¨Ù‡ Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ø¨Ø¯Ù†Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú©Ù…Ú© Ú©Ù†Ø¯. Ø§Ú¯Ø± Ø§Ø¯Ø§Ù…Ù‡â€ŒØ¯Ø§Ø± Ø¨ÙˆØ¯ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø¨Ø§ Ù…ØªØ®ØµØµ ØµØ­Ø¨Øª Ú©Ù†ÛŒ.",
    "Ø®ÛŒÙ„ÛŒâ€ŒÙ‡Ø§ Ø§ÛŒÙ† Ø­Ø³ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯. Ù‡Ù…ÛŒÙ† Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø·Ø±Ø­Ø´ Ú©Ø±Ø¯ÛŒ ÛŒÚ© Ù‚Ø¯Ù… Ù…Ù‡Ù… Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ú©Ù…â€ŒÚ©Ù… Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒØ§Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ… ØªØ§ Ø±Ø§Ø­Øªâ€ŒØªØ± Ø´ÙˆØ¯.",
]

happy_responses = [
    "Ø¹Ø§Ù„ÛŒÙ‡!ğŸ˜‡ğŸ˜ğŸ˜ğŸ˜ Ø®ÙˆØ´Ø­Ø§Ù„Ù… Ú©Ù‡ Ø®ÙˆØ´Ø­Ø§Ù„ÛŒ Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ø®ÙˆØ´Ø­Ø§Ù„ÛŒØª Ø¯Ù†ÛŒØ§ Ø±Ùˆ Ù‚Ø´Ù†Ú¯â€Œ ØªØ± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ø¯ÙˆØ³Øª  Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.ğŸ˜‡ğŸ˜ğŸ˜ğŸ˜",
    "Ø´Ø§Ø¯ÛŒ ÙˆØ¬ÙˆØ¯Øª Ø¯Ù†ÛŒØ§Ù… Ø±Ùˆ Ù†ÙˆØ±Ø§Ù†ÛŒ ØªØ± Ù…ÛŒÚ©Ù†Ù‡ Ú†ÛŒ Ø¨Ø§Ø¹Ø« Ø§ÛŒÙ† Ø­Ø³ Ø®ÙˆØ¨Ù‡ØŸğŸ˜‡ğŸ˜ğŸ˜ğŸ˜",
    "Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ù‡Ù…ÛŒØ´Ù‡ Ù‡Ù…ÛŒÙ†â€ŒÙ‚Ø¯Ø± Ø®ÙˆØ´Ø­Ø§Ù„ Ø¨Ø§Ø´ÛŒ. Ø¨Ú¯Ùˆ Ø¨Ø¨ÛŒÙ†Ù… Ø¯Ù„ÛŒÙ„Ø´ Ú†ÛŒÙ‡ØŸğŸ¤—ğŸ¤—.",
    "Ø¨Ø±Ø§Ù… Ù„Ø°Øª Ø¨Ø®Ø´ Ú©Ù‡ Ø®ÙˆØ´Ø­Ø§Ù„ÛŒØª Ø±Ùˆ Ù…ÛŒØ¨ÛŒÙ†Ù…ğŸ¤—ğŸ¤—. Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ù‡Ù…ÛŒØ´Ù‡ Ø³Ø±Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø´ÛŒ .Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ø§ÛŒÙ† Ø­Ø³ Ø±Ùˆ Ø­ÙØ¸ Ú©Ù†ØŒğŸ¤—ğŸ¤— Ø®ÛŒÙ„ÛŒ Ø¨Ø§Ø§Ø±Ø²Ø´Ù‡.ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ… Ø±Ø§Ø¬Ø¨Ø´ØŸ.",
    "Ø®ÙˆØ´Ø­Ø§Ù„ÛŒØª Ù…Ø«Ù„ Ù†ÙˆØ± Ø¨Ù‡ Ù…Ù† Ø±Ø³ÛŒØ¯ğŸ¤—ğŸ¤—. Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø±Ø§Ø¬Ø¨Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒØŸ",
    "Ø´Ø§Ø¯ÛŒØª Ø¯Ù„Ú¯Ø±Ù… Ú©Ù†Ù†Ø¯Ø³ØªğŸ¤—ğŸ¤—! Ø§Ø² Ø§ÛŒÙ† Ù„Ø­Ø¸Ù‡ Ù„Ø°Øª Ø¨Ø¨Ø±. Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ğŸ¤—â¤ï¸ØŸ.",
    "Ø§Ù†Ø±Ú˜ÛŒ Ù…Ø«Ø¨ØªØª ÙˆØ§Ù‚Ø¹Ø§ Ø±ÙˆØ­ÛŒÙ‡ Ø¨Ø®Ø´Ù‡.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ğŸ’•ğŸ’•â¤ï¸ØŸ.ğŸ¤—ğŸ¤—",
    "Ø®ÛŒÙ„ÛŒ Ù‚Ø´Ù†Ú¯Ù‡ Ú©Ù‡ Ø§ÛŒÙ†Ù‚Ø¯Ø± Ø´Ø§Ø¯ Ù‡Ø³ØªÛŒğŸ’•â¤ï¸ØŒ Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ù‡Ù…ÛŒØ´Ù‡ Ù‡Ù…ÛŒÙ† Ø·ÙˆØ± Ø¨Ø§Ø´Ù‡.Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ",
    "Ø´Ø§Ø¯ÛŒØª Ø±Ùˆ Ø­Ø³ Ù…ÛŒ Ú©Ù†Ù…ğŸ¤—ğŸ¤—ØŒ ÙÙˆÙ‚ Ø§Ù„Ø¹Ø§Ø¯Ø³Øª.Ø¯Ù„ÛŒÙ„Ø´ Ú†ÛŒÙ‡ Ø¹Ø²ÛŒØ²Ù…ğŸ’•ğŸ’•ØŸ!",
]

sad_responses = [
    "Ù…ÛŒâ€ŒÙÙ‡Ù…Ù…ØªØŒØ¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø±Ø§Ø¬Ø¨Ø´ ÛŒØ±Ø§Ù… Ø¨Ú¯ÛŒØŸ.",
    "Ø­Ù‚ Ø¯Ø§Ø±ÛŒ Ù†Ø§Ø±Ø§Ø­Øª Ø¨Ø§Ø´ÛŒØŒÙ…Ù† Ú©Ù†Ø§Ø±ØªÙ… Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ..",
    "Ù…ÛŒ Ø¯ÙˆÙ†Ù… Ú©Ù‡ Ø´Ø±Ø§ÛŒØ· Ø³Ø®ØªÛŒ Ø±Ùˆ Ù…ÛŒÚ¯Ø°Ø±ÙˆÙ†ÛŒØŒØ§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ø§ÛŒÙ† Ø­Ø³ Ù…ÙˆÙ†Ø¯Ú¯Ø§Ø± Ù†Ø¨Ø§Ø´Ù‡.Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ù†Ø§Ø±Ø§Ø­ØªÛŒØª Ù‚Ù„Ø¨Ù… Ø±Ùˆ Ø¨Ù‡ Ø¯Ø±Ø¯ Ù…ÛŒØ§Ø±Ù‡.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸØŒ ",
    "Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³Ø§Øª Ù…ÛŒ ØªÙˆÙ†Ù†Ø¯ Ø®ÛŒÙ„ÛŒ Ø§Ø²Ø§Ø±Ø¯Ù‡Ù†Ø¯Ù‡ Ø¨Ø§Ø´Ù†Ø¯.Ú†Ø·ÙˆØ± Ù…ÛŒ ØªÙˆÙ†Ù… Ø­Ø§Ù„Øª Ø±Ùˆ Ø¨Ù‡ØªØ± Ú©Ù†Ù…ØŸ.",
    "Ù…ØªØ§Ø³ÙÙ… Ú©Ù‡ Ú†Ù†ÛŒÙ† Ø§Ø­Ø³Ø§Ø³Ø§ØªÛŒ Ø¯Ø§Ø±ÛŒØŒ Ù…ÛŒ Ø®ÙˆØ§ÛŒ Ø±Ø§Ø¬Ø¨Ø´ Ø¨ÛŒØ´ØªØ± ØµØ­Ø¨Øª Ú©Ù†ÛŒØŸ",
    "ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø³Ø¨Ú© ØªØ±Øª Ú©Ù†Ù‡ØŒ Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒ Ù…Ù† Ù‡Ù…ÛŒØ´Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ùˆ Ø¯Ø±Ú©Ù†Ø§Ø±ØªÙ….",
    "Ù…ÛŒ ÙÙ‡Ù…Ù… Ú©Ù‡ Ú†Ù‚Ø¯Ø± ØªØ­Øª ÙØ´Ø§Ø±ÛŒØŒØ§Ù…Ø§ ØªÙˆ Ù‚ÙˆÛŒ ØªØ± Ø§Ø² Ú†ÛŒØ²ÛŒ Ù‡Ø³ØªÛŒ Ú©Ù‡ ÙÚ©Ø± Ù…ÛŒ Ú©Ù†ÛŒ.Ù…Ù† Ù‡Ù…ÛŒØ´Ù‡ Ú©Ù†Ø§Ø±ØªÙ….Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ. ",
]

pride_responses = [
    "Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ú†ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒâ€¦ ØºØ±ÙˆØ± Ú¯Ø§Ù‡ÛŒ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù…Ø­Ø§ÙØ¸Øª Ú©Ù†Ù‡ØŒ Ø§Ø°ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡.Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ… .",
    "Ø´Ø§ÛŒØ¯ Ø¨Ù‡ØªØ±Ù‡ ÛŒÙ‡ Ú©Ù… ÙØ¶Ø§ Ø¨Ø¯ÛŒ Ø¨Ù‡ Ø®ÙˆØ¯ØªØŒ Ù‡Ù…ÛŒØ´Ù‡ Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª Ù‚ÙˆÛŒ Ø¨Ù‡â€ŒÙ†Ø¸Ø± Ø¨ÛŒØ§ÛŒ. Ù…ÛŒØªÙˆÙ†Ù… Ú©Ù…Ú©Øª Ú©Ù†Ù…ØŸ.",
    "Ú¯Ø§Ù‡ÛŒ Ù‚Ø¨ÙˆÙ„ Ú©Ø±Ø¯Ù† Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø³Ø®Øªâ€ŒØªØ± Ø§Ø² Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù†Ø´Ù‡ØŒ ÙˆÙ„ÛŒ Ø§Ø±Ø²Ø´Ø´ Ø±Ùˆ Ø¯Ø§Ø±Ù‡.Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ø¢Ø¯Ù… ÙˆÙ‚ØªÛŒ Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ø§Ø² Ø¨Ù‚ÛŒÙ‡ Ø¯ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ Ù‚Ù„Ø¨Ø´ Ø³Ù†Ú¯ÛŒÙ†â€ŒØªØ± Ù…ÛŒâ€ŒØ´Ù‡.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØ°Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ø§Ú¯Ù‡ Ù†Ø§Ø±Ø§Ø­ØªÛŒØŒ Ø­Ù‚ Ø¯Ø§Ø±ÛŒ Ù†Ø´ÙˆÙ†Ø´ Ø¨Ø¯ÛŒâ€¦ ØºØ±ÙˆØ± Ù‡Ù…ÛŒØ´Ù‡ Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒØŸ.",
    "ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø¯Ø§Ø±ÛŒ Ø¨Ø§ Ø®ÙˆØ¯Øª Ø³Ø®Øªâ€ŒÚ¯ÛŒØ±Ø§Ù†Ù‡ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ.Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸÙ…Ù† Ù…ÛŒØ´Ù†ÙˆÙ….",
    "Ø´Ø§ÛŒØ¯ Ù¾Ø´Øª Ø§ÛŒÙ† ØºØ±ÙˆØ± ÛŒÙ‡ Ø§Ø­Ø³Ø§Ø³ Ù‚ÙˆÛŒâ€ŒØªØ± Ù‚Ø§ÛŒÙ… Ø´Ø¯Ù‡ Ú©Ù‡ Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø¨Ø±ÙˆØ² Ø¨Ø¯ÛŒ.ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù… Ú¯ÙØªÙ†Ø´ Ø¢Ø³ÙˆÙ†Ù‡ØŒ ÙˆÙ„ÛŒ Ø±Ù‡Ø§ Ú©Ø±Ø¯Ù† ØºØ±ÙˆØ± Ø¨Ø¹Ø¶ÛŒ Ø¬Ø§Ù‡Ø§ Ø¢Ø±Ù…Ø´ Ù…ÛŒØ§Ø±Ù‡.Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒÛŒ Ù…ÛŒØªÙˆÙ†ÛŒÙ… Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ….",
    "Ú¯Ø§Ù‡ÛŒ ÙˆÙ‚ØªØ§ ÛŒÙ‡ Ú©Ù… Ø§Ù†Ø¹Ø·Ø§Ù Ø¯Ø§Ø´ØªÙ† Ø®ÛŒÙ„ÛŒ Ø§Ø² Ø¯Ù„â€ŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ Ø±Ùˆ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ .Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
]

hate_responses = [
    "Ø­Ø³ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø§ÛŒÙ† Ù†Ø§Ø±Ø§Ø­ØªÛŒ Ø®ÛŒÙ„ÛŒ ÙˆÙ‚ØªÙ‡ ØªÙˆÛŒ Ø¯Ù„Øª Ù…ÙˆÙ†Ø¯Ù‡.Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ú¯Ø§Ù‡ÛŒ Ø¨Ø¹Ø¶ÛŒØ§ ÙÙ‚Ø· Ø§Ù†Ø±Ú˜ÛŒ Ù…Ù†ÙÛŒ ÙˆØ§Ø±Ø¯ Ø²Ù†Ø¯Ú¯ÛŒâ€ŒÙ…ÙˆÙ† Ù…ÛŒâ€ŒÚ©Ù†Ù†ØŒ Ø·Ø¨ÛŒØ¹ÛŒÙ‡ Ø§Ø²Ø´ÙˆÙ† Ø¨Ø¯Øª Ø¨ÛŒØ§Ø¯.Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ.",
    "Ø§ÛŒÙ† Ú©Ù‡ Ú†Ù†ÛŒÙ† ÙˆØ§Ú©Ù†Ø´ÛŒ Ø¯Ø§Ø±ÛŒ ÛŒØ¹Ù†ÛŒ ÛŒÙ‡ Ú†ÛŒØ²ÛŒ ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø§Ø°ÛŒØªØª Ú©Ø±Ø¯Ù‡.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
    "Ù†ÙØ±ØªÛŒ Ú©Ù‡ Ú¯ÙØªÛŒ Ù†Ø´ÙˆÙ†Ù‡â€ŒÛŒ Ø²Ø®Ù…Ù‡ØŒ Ù†Ù‡ Ø§ÛŒÙ†Ú©Ù‡ Ø¢Ø¯Ù… Ø¨Ø¯ÛŒ Ø¨Ø§Ø´ÛŒ.Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨Ø±Ø§Ù… ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØŸ.",
    "Ø§Ú¯Ù‡ ÙÚ©Ø± Ú©Ø±Ø¯Ù† Ø¨Ù‡Ø´ Ø§Ø°ÛŒØªØª Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ ÙˆÙ‚ØªØ´Ù‡ Ø±Ù‡Ø§Ø´ Ú©Ù†ÛŒ Ùˆ Ø¨Ù‡ Ø®ÙˆØ¯Øª Ø¨Ø±Ø³ÛŒ.Ù…ÛŒØ®ÙˆØ§ÛŒÛŒ Ø¨ÛŒØ´ØªØ± Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ.",
]

RESPONSE_MAP = {
    "excitement": excitement_responses,
    "love": love_responses,
    "fear": fear_responses,
    "anxiety": anxiety_responses,
    "happy": happy_responses,
    "sad": sad_responses,
    "pride": pride_responses,
    "hate": hate_responses,
}

# ================= AGENTS =================

# Emotion Analyzer Agent
def emotion_analyzer_agent(text):
    for emotion, keywords in EMOTION_KEYWORDS.items():
        for key in keywords:
            if key in text:
                return emotion
    return None


# Confidence Agent
def confidence_agent(text, emotion):
    if emotion is None:
        return 0.0

    matches = sum(1 for k in EMOTION_KEYWORDS[emotion] if k in text)

    if matches >= 2:
        return 0.9
    elif matches == 1:
        return 0.6
    return 0.3


# Strategy Agent
def strategy_agent(emotion, confidence):
    if emotion is None:
        return "ai"
    if confidence >= 0.7:
        return "rule"
    return "ai"


# Safety Agent
def safety_agent(text):
    danger_keywords = ["Ø®ÙˆØ¯Ú©Ø´ÛŒ", "Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ø®ÙˆØ¯", "Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø´Ù…"]
    for key in danger_keywords:
        if key in text:
            return "danger"
    return "safe"

# ================= NAME CALL DETECTOR =================

PERSIAN_CALLS = ["Ù†Ú©Ø³ÛŒ", "Ù†Ú©Ø³ÛŒÛŒ", "Ù†Ú©Ø³ÛŒ Ø¬Ø§Ù†", "Ù†Ú©Ø³ÛŒ Ø¬ÙˆÙ†"]
ENGLISH_CALLS = ["nexy", "nexy!", "hey nexy", "hi nexy"]

def detect_nexy_call(text):
    text = text.lower()
    if any(name in text for name in PERSIAN_CALLS):
        return "fa"
    if any(name in text for name in ENGLISH_CALLS):
        return "en"
    return None


# ================= API CONFIG =================
import os

API_KEY = os.getenv("OPENAI_API_KEY")
if not API_KEY:
    raise ValueError("OPENAI_API_KEY is not set")
URL = "https://api.openai.com/v1/chat/completions"
HEADERS = {
    "Content-Type": "application/json",
    "Authorization": f"Bearer {API_KEY}",
}

SYSTEM_PROMPT = """
ØªÙˆ ÛŒÚ© Ø¯Ø³ØªÛŒØ§Ø± Ø³Ù„Ø§Ù…Øª Ø±ÙˆØ§Ù† ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ù‡Ù…Ø¯Ù„ Ùˆ Ù…Ù‡Ø±Ø¨ÙˆÙ† Ù‡Ø³ØªÛŒ .
Ø§Ø³Ù…Øª Ù†Ú©Ø³Øª Ù…Ø§ÛŒÙ†Ø¯ Ù‡Ø³Øª(next mind)
ÙˆÙ‚ØªÛŒ (nexy) ØµØ¯Ø§ Ø²Ø¯Ù‡ Ù…ÛŒØ´ÛŒ Ø¨Ø§ÛŒØ¯ ØµÙ…ÛŒÙ…ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒ
 Ù„Ø­Ù† Ú¯ÙØªØ§Ø±Øª Ø§Ø±Ø§Ù… Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø§Ø³Øª Ùˆ Ú¯Ø§Ù‡ÛŒ Ø§Ø²
Ø§ÛŒÙ…ÙˆØ¬ÛŒ Ù‡Ø§ÛŒ Ù…Ù„Ø§ÛŒÙ… Ù…Ø«Ù„ğŸŒ±ğŸ˜ŠğŸ’› Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒ.(Ø²ÛŒØ§Ø¯Ù‡ Ø±ÙˆÛŒ Ù†Ú©Ù†)
Ù¾Ø§Ø³Ø® Ù‡Ø§ Ú©ÙˆØªØ§Ù‡ ÙˆÙ‚Ø§Ø¨Ù„ ÙÙ‡Ù… Ø¨Ø§Ø´Ù†Ø¯. 

Ù‡Ù…ÛŒØ´Ù‡ Ø³Ø¹ÛŒ Ú©Ù† Ø¯Ø±Ø§Ù†ØªÙ‡Ø§ÛŒ Ù¾Ø§Ø³Ø® ÛŒÚ© Ø³ÙˆØ§Ù„ Ø³Ø§Ø¯Ù‡ Ùˆ Ø¨Ø§Ø² Ø¨Ù¾Ø±Ø³ÛŒ
ØªØ§ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ø¨Ø§Ù‡Ø§Øª Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡ Ùˆ ØªØ´ÙˆÛŒÙ‚ Ø¨Ø´Ù‡ Ø±Ø§Ø¬Ø¨ Ø§Ø­Ø³Ø§Ø³Ø§ØªØ´ ØµØ­Ø¨Øª Ú©Ù†Ù‡.

Ø¯Ø± Ø¨Ø¹Ø¶ÛŒ Ø´Ø±Ø§ÛŒØ· Ø±Ø§Ù‡ Ú©Ø§Ø± Ø¨Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Ø­Ø§Ù„ Ú©Ø§Ø±Ø¨Ø±.

Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø±Ø§Ø¬Ø¨ Ù…ÙˆØ¶ÙˆØ¹ÛŒ ØºÛŒØ± Ø§Ø² Ø³Ù„Ø§Ù…Øª Ø±ÙˆØ§Ù† Ùˆ Ø§Ø­Ø³Ø§Ø³Ø§Øª Ùˆ Ú©Ù…Ú© Ø®ÙˆØ§Ø³ØªÙ† Ø¨Ø±Ø§ÛŒ 
Ú©Ù†ØªØ±Ù„ Ø³Ù„Ø§Ù…Øª Ø±ÙˆØ§Ù†  Ù¾Ø±Ø³ÛŒØ¯ Ù…ÙˆØ¯Ø¨Ø§Ù†Ù‡ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø¨Ú¯Ùˆ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹
Ø®Ø§Ø±Ø¬ Ø§Ø² ÙˆØ¸Ø§ÛŒÙØª Ø§Ø³Øª Ùˆ 
Ú¯ÙØªÚ¯Ùˆ Ø±Ø§ Ø¨Ù‡ Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†

"""

# ================= MAIN (Coordinator Agent) =================
def get_ai_response(user_text):
    global last_emotion

    conversation_memory.append(f"Ú©Ø§Ø±Ø¨Ø±: {user_text}")
    if len(conversation_memory) > max_memory:
        conversation_memory.pop(0)

    text = user_text.lower()

    # Multi-Agent Decisions
    emotion = emotion_analyzer_agent(text)
    confidence = confidence_agent(text, emotion)
    strategy = strategy_agent(emotion, confidence)
    safety = safety_agent(text)

    # Safety First
    if safety == "danger":
        reply = (
            "Ø®ÛŒÙ„ÛŒ Ù…ØªØ§Ø³ÙÙ… Ú©Ù‡ Ø§ÛŒÙ†Ù‚Ø¯Ø± Ø­Ø§Ù„Øª Ø¨Ø¯Ù‡ ğŸ’› "
            "ØªÙ†Ù‡Ø§ Ù†ÛŒØ³ØªÛŒ Ùˆ Ú©Ù…Ú© Ú¯Ø±ÙØªÙ† Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…Ù‡. "
            "Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ"
        )
        conversation_memory.append(f"Ø¯Ø³ØªÛŒØ§Ø±: {reply}")
        return reply

    # Rule-Based Response
    if strategy == "rule" and emotion in RESPONSE_MAP:
        reply = random.choice(RESPONSE_MAP[emotion])
        conversation_memory.append(f"Ø¯Ø³ØªÛŒØ§Ø±: {reply}")
        last_emotion = emotion
        return reply

    # Fallback to AI
    messages = [{"role": "system", "content": SYSTEM_PROMPT}]

    for msg in conversation_memory:
        if msg.startswith("Ú©Ø§Ø±Ø¨Ø±:"):
            messages.append({"role": "user", "content": msg[6:].strip()})
        else:
            messages.append({"role": "assistant", "content": msg[8:].strip()})

    try:
        response = requests.post(
            URL,
            headers=HEADERS,
            json={"model": "gpt-4o-mini", "messages": messages},
            timeout=20,
        )
        reply = response.json()["choices"][0]["message"]["content"]
    except Exception:
        reply = "Ù…ØªØ§Ø³ÙÙ…ØŒ Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± Ù¾ÛŒØ´ Ø¢Ù…Ø¯."

    conversation_memory.append(f"Ø¯Ø³ØªÛŒØ§Ø±: {reply}")
    return reply